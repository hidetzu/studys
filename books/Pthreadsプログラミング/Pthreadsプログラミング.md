#Pthreadsプログラミング

[Pthreads][1]の感想、フィードバックをまとめています

#1 なぜマルチスレッドなのか?
## Pthreadsとは?
- Pthreadsの「P」は「POSIX」からきている。
- Pthreadsは各サブタスクに分割し、各サブタスクを並列に、あるいはインターリーブして実行する仕組みの標準化モデル→実装に依存しないということ

## 並列可能性
- 結果を変化させることなく、文を任意の順序で実行できるということ

## 並行プログラミング環境における並列可能性の記述
- 並列可能性を表現できるプログラミング環境は、並行プログラミング環境と呼ばれる。

### UNIXの並行プログラミング:複数のプロセス
- 新しいプロセスの生成:fork
- 子プロセスの終了をまつ:waitpid

### Pthreads並行:複数のスレッド
- 新しいスレッドの生成:pthread_create
- スレッドの終了をまつ:pthread_join

## 並列プログラミングと並行プログラミング
- 並行(parallel)プログラミングとは 定義された複数のタスクが任意の順序で実行される環境のことを参照するときに使用する。
- 並列(concurrent)プログラミングとは 特に、異なるプロセッサ上で並行タスクが同時に実行されることを参照する。

## 同期
- プログラム中でイベントに関する順序を強制しなければならないこと
- pthradには同期の方法としてmutexや条件変数を利用する方法がある

### プロセスリソースの共有
### 通信
### スケジュール

## 私は誰? あなたは誰?
- pthread_createはpthread_t型のハンドルを返す。プログラマはこのハンドルを保存し、pthread_self(),pthread_equal()などを使ってスレッドの判別ができる。

## スレッドの実行の終了
- Pthreadsライブラリはスレッドが終了した時にスレッドが利用していたプロセスリソース、システムリソースを回収し、スレッドの終了ステータスを保存する。
- pthread_exit()により明示的にスレッドの終了ができる
- pthread_cancel()により別のスレッドを終了させることができる。

### 終了ステータスと返り値
- スレッド作成時のデフォルト状態であるジョイン可能なスレッドは、終了状態が保存されるが、デタッチされたスレッドは終了ステータスが保存されない。
- 終了ステータスは、pthread_exit()で明示的に終了するかスレッド起動したルーチンの返り値のいずれか。

### Pthreadsライブラリコールとエラー
- Pthreadsライブラリのほとんどのコールは、成功すれば0、それ以外ではエラー番号(errno.h)を返す。

## なぜプロセスではなくスレッドを使うのか?
- 新しいプロセスの作成は高価なものである。時間がかかる。(システムコールを発行するから) プロセス全体を複製する。
- スレッドはプロセス全体を複製することなく生成できる。
- プロセスの同期は、システムコールを発行する必要があるがスレッドは変数を監視するだけで行える。(ユーザ空間ですむ)

## 構造化プログラミング環境
## スレッド化するアプリケーションの選択

#2 マルチスレッドの設計




[1]:http://www.amazon.co.jp/Pthreads%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-Bradford-Nichols/dp/4900900664/ref=sr_1_1?s=books&ie=UTF8&qid=1409859670&sr=1-1&keywords=pthread%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0
